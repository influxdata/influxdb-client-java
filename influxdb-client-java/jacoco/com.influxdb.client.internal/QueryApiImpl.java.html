<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>QueryApiImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">The Java InfluxDB 2.x Client</a> &gt; <a href="index.source.html" class="el_package">com.influxdb.client.internal</a> &gt; <span class="el_source">QueryApiImpl.java</span></div><h1>QueryApiImpl.java</h1><pre class="source lang-java linenums">/*
 * The MIT License
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the &quot;Software&quot;), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
package com.influxdb.client.internal;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Map;
import java.util.function.BiConsumer;
import java.util.function.Consumer;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.annotation.Nonnull;
import javax.annotation.Nullable;

import com.influxdb.Cancellable;
import com.influxdb.client.InfluxDBClientOptions;
import com.influxdb.client.QueryApi;
import com.influxdb.client.domain.Dialect;
import com.influxdb.client.domain.Query;
import com.influxdb.client.service.QueryService;
import com.influxdb.internal.AbstractQueryApi;
import com.influxdb.query.FluxRecord;
import com.influxdb.query.FluxTable;
import com.influxdb.query.internal.FluxCsvParser;
import com.influxdb.utils.Arguments;

import okhttp3.ResponseBody;
import retrofit2.Call;

/**
 * @author Jakub Bednar (bednar@github) (17/10/2018 10:50)
 */
final class QueryApiImpl extends AbstractQueryApi implements QueryApi {

<span class="fc" id="L55">    private static final Logger LOG = Logger.getLogger(QueryApiImpl.class.getName());</span>

    private final QueryService service;
    private final InfluxDBClientOptions options;

<span class="fc" id="L60">    QueryApiImpl(@Nonnull final QueryService service, @Nonnull final InfluxDBClientOptions options) {</span>

<span class="fc" id="L62">        Arguments.checkNotNull(service, &quot;service&quot;);</span>
<span class="fc" id="L63">        Arguments.checkNotNull(options, &quot;options&quot;);</span>

<span class="fc" id="L65">        this.service = service;</span>
<span class="fc" id="L66">        this.options = options;</span>
<span class="fc" id="L67">    }</span>

    @Nonnull
    @Override
    public List&lt;FluxTable&gt; query(@Nonnull final String query) {

<span class="fc" id="L73">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L75">        return query(query, options.getOrg());</span>
    }

    @Nonnull
    @Override
    public List&lt;FluxTable&gt; query(@Nonnull final String query, @Nonnull final String org) {

<span class="fc" id="L82">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L83">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L85">        return query(new Query().query(query), org);</span>
    }

    @Nonnull
    @Override
    public List&lt;FluxTable&gt; query(@Nonnull final String query,
                                 @Nonnull final String org,
                                 @Nullable final Map&lt;String, Object&gt; params) {

<span class="fc" id="L94">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L95">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L97">        Query q = new Query().query(query);</span>
<span class="pc bpc" id="L98" title="1 of 2 branches missed.">        if (params != null) {</span>
<span class="fc" id="L99">            q.params(Collections.unmodifiableMap(params));</span>
        }
<span class="fc" id="L101">        return query(q, org);</span>
    }

    @Nonnull
    @Override
    public List&lt;FluxTable&gt; query(@Nonnull final Query query) {

<span class="fc" id="L108">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L110">        return query(query, options.getOrg());</span>
    }

    @Nonnull
    @Override
    public List&lt;FluxTable&gt; query(@Nonnull final Query query,
                                 @Nonnull final String org) {

<span class="fc" id="L118">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L119">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L121">        FluxCsvParser.FluxResponseConsumerTable consumer = fluxCsvParser.new FluxResponseConsumerTable();</span>

<span class="fc" id="L123">        query(query, org, consumer, ERROR_CONSUMER, EMPTY_ACTION, false);</span>

<span class="fc" id="L125">        return consumer.getTables();</span>
    }

    @Nonnull
    @Override
    public &lt;M&gt; List&lt;M&gt; query(@Nonnull final String query, @Nonnull final Class&lt;M&gt; measurementType) {

<span class="fc" id="L132">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L134">        return query(query, options.getOrg(), measurementType);</span>
    }

    @Nonnull
    @Override
    public &lt;M&gt; List&lt;M&gt; query(@Nonnull final String query,
                             @Nonnull final String org,
                             @Nonnull final Class&lt;M&gt; measurementType) {

<span class="fc" id="L143">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>

<span class="fc" id="L145">        Query dialect = new Query().query(query);</span>

<span class="fc" id="L147">        return query(dialect, org, measurementType);</span>
    }

    @Nonnull
    @Override
    public &lt;M&gt; List&lt;M&gt; query(@Nonnull final String query,
                             @Nonnull final String org,
                             @Nonnull final Class&lt;M&gt; measurementType,
                             @Nullable final Map&lt;String, Object&gt; params) {

<span class="fc" id="L157">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>

<span class="fc" id="L159">        Query dialect = new Query().query(query);</span>
<span class="pc bpc" id="L160" title="1 of 2 branches missed.">        if (params != null) {</span>
<span class="fc" id="L161">            dialect.params(Collections.unmodifiableMap(params));</span>
        }

<span class="fc" id="L164">        return query(dialect, org, measurementType);</span>
    }

    @Nonnull
    @Override
    public &lt;M&gt; List&lt;M&gt; query(@Nonnull final Query query, @Nonnull final Class&lt;M&gt; measurementType) {

<span class="fc" id="L171">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L173">        return query(query, options.getOrg(), measurementType);</span>
    }

    @Nonnull
    @Override
    public &lt;M&gt; List&lt;M&gt; query(@Nonnull final Query query,
                             @Nonnull final String org,
                             @Nonnull final Class&lt;M&gt; measurementType) {

<span class="fc" id="L182">        Arguments.checkNotNull(query, &quot;query&quot;);</span>

<span class="fc" id="L184">        List&lt;M&gt; measurements = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L186">        FluxCsvParser.FluxResponseConsumer consumer = new FluxCsvParser.FluxResponseConsumer() {</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxTable table) {

<span class="nc" id="L193">            }</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxRecord record) {

<span class="nc" id="L200">                measurements.add(resultMapper.toPOJO(record, measurementType));</span>
<span class="nc" id="L201">            }</span>
        };

<span class="fc" id="L204">        query(query, org, consumer, ERROR_CONSUMER, EMPTY_ACTION, false);</span>

<span class="fc" id="L206">        return measurements;</span>
    }

    @Override
    public void query(@Nonnull final String query, @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext) {

<span class="fc" id="L212">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L214">        query(query, options.getOrg(), onNext);</span>
<span class="fc" id="L215">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext) {

<span class="fc" id="L222">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L223">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>

<span class="fc" id="L225">        query(query, org, onNext, ERROR_CONSUMER);</span>
<span class="fc" id="L226">    }</span>

    @Override
    public void query(@Nonnull final Query query, @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext) {

<span class="fc" id="L231">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L233">        query(query, options.getOrg(), onNext);</span>
<span class="fc" id="L234">    }</span>

    @Override
    public void query(@Nonnull final Query query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext) {

<span class="fc" id="L241">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L242">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>

<span class="fc" id="L244">        query(query, org, onNext, ERROR_CONSUMER);</span>
<span class="fc" id="L245">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext) {

<span class="fc" id="L252">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L254">        query(query, options.getOrg(), measurementType, onNext);</span>
<span class="fc" id="L255">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext) {

<span class="fc" id="L263">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L264">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L265">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L266">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L268">        query(query, org, measurementType, onNext, ERROR_CONSUMER);</span>
<span class="fc" id="L269">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext) {

<span class="fc" id="L276">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L278">        query(query, options.getOrg(), measurementType, onNext);</span>
<span class="fc" id="L279">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext) {

<span class="fc" id="L287">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L288">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L289">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L290">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L292">        query(query, org, measurementType, onNext, ERROR_CONSUMER);</span>
<span class="fc" id="L293">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L300">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L302">        query(query, options.getOrg(), onNext, onError);</span>
<span class="fc" id="L303">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L311">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L312">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L313">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L314">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>

<span class="fc" id="L316">        query(query, org, onNext, onError, EMPTY_ACTION);</span>
<span class="fc" id="L317">    }</span>

    @Override
    public void query(@Nonnull final Query query,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L324">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L326">        query(query, options.getOrg(), onNext, onError);</span>
<span class="fc" id="L327">    }</span>

    @Override
    public void query(@Nonnull final Query query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L335">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L336">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L337">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L338">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>

<span class="fc" id="L340">        query(query, org, onNext, onError, EMPTY_ACTION);</span>
<span class="fc" id="L341">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L349">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L351">        query(query, options.getOrg(), measurementType, onNext, onError);</span>
<span class="fc" id="L352">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L361">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L362">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L363">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L364">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L365">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L367">        query(query, org, measurementType, onNext, onError, EMPTY_ACTION);</span>
<span class="fc" id="L368">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L376">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L378">        query(query, options.getOrg(), measurementType, onNext, onError);</span>
<span class="fc" id="L379">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L388">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L389">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L390">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L391">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L392">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L394">        query(query, org, measurementType, onNext, onError, EMPTY_ACTION);</span>
<span class="fc" id="L395">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                      @Nonnull final Runnable onComplete) {

<span class="fc" id="L403">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L405">        query(query, options.getOrg(), onNext, onError, onComplete);</span>
<span class="fc" id="L406">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                      @Nonnull final Runnable onComplete) {

<span class="fc" id="L415">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L416">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L417">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L418">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L419">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="fc" id="L421">        Query queryObj = new Query().query(query);</span>

<span class="fc" id="L423">        query(queryObj, org, onNext, onError, onComplete);</span>
<span class="fc" id="L424">    }</span>

    @Override
    public void query(@Nonnull final String query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                      @Nonnull final Runnable onComplete,
                      @Nullable final Map&lt;String, Object&gt; params) {

<span class="nc" id="L434">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="nc" id="L435">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="nc" id="L436">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="nc" id="L437">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="nc" id="L438">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="nc" id="L440">        Query queryObj = new Query().query(query);</span>
<span class="nc bnc" id="L441" title="All 2 branches missed.">        if (params != null) {</span>
<span class="nc" id="L442">            queryObj.params(Collections.unmodifiableMap(params));</span>
        }

<span class="nc" id="L445">        query(queryObj, org, onNext, onError, onComplete);</span>
<span class="nc" id="L446">    }</span>

    @Override
    public void query(@Nonnull final Query query,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                      @Nonnull final Runnable onComplete) {

<span class="fc" id="L454">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L456">        query(query, options.getOrg(), onNext, onError, onComplete);</span>
<span class="fc" id="L457">    }</span>

    @Override
    public void query(@Nonnull final Query query,
                      @Nonnull final String org,
                      @Nonnull final BiConsumer&lt;Cancellable, FluxRecord&gt; onNext,
                      @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                      @Nonnull final Runnable onComplete) {

<span class="fc" id="L466">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L467">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L468">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L469">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L470">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="fc" id="L472">        FluxCsvParser.FluxResponseConsumer consumer = new FluxCsvParser.FluxResponseConsumer() {</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxTable table) {
<span class="nc" id="L478">            }</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxRecord record) {
<span class="nc" id="L484">                onNext.accept(cancellable, record);</span>
<span class="nc" id="L485">            }</span>
        };

<span class="fc" id="L488">        query(query, org, consumer, onError, onComplete, true);</span>
<span class="fc" id="L489">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete) {

<span class="fc" id="L498">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L500">        query(query, options.getOrg(), measurementType, onNext, onError, onComplete);</span>
<span class="fc" id="L501">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete) {

<span class="fc" id="L511">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L512">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L513">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L514">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L515">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>
<span class="fc" id="L516">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L518">        Query queryObj = new Query().query(query);</span>

<span class="fc" id="L520">        query(queryObj, org, measurementType,  onNext, onError, onComplete);</span>
<span class="fc" id="L521">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final String query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete,
                          @Nullable final Map&lt;String, Object&gt; params) {

<span class="nc" id="L532">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="nc" id="L533">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="nc" id="L534">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="nc" id="L535">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="nc" id="L536">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>
<span class="nc" id="L537">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="nc" id="L539">        Query queryObj = new Query().query(query);</span>
<span class="nc bnc" id="L540" title="All 2 branches missed.">        if (params != null) {</span>
<span class="nc" id="L541">            queryObj.params(Collections.unmodifiableMap(params));</span>
        }

<span class="nc" id="L544">        query(queryObj, org, measurementType, onNext, onError, onComplete);</span>
<span class="nc" id="L545">    }</span>


    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete) {

<span class="fc" id="L555">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L557">        query(query, options.getOrg(), measurementType, onNext, onError, onComplete);</span>
<span class="fc" id="L558">    }</span>

    @Override
    public &lt;M&gt; void query(@Nonnull final Query query,
                          @Nonnull final String org,
                          @Nonnull final Class&lt;M&gt; measurementType,
                          @Nonnull final BiConsumer&lt;Cancellable, M&gt; onNext,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete) {

<span class="fc" id="L568">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L569">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L570">        Arguments.checkNotNull(onNext, &quot;onNext&quot;);</span>
<span class="fc" id="L571">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L572">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>
<span class="fc" id="L573">        Arguments.checkNotNull(measurementType, &quot;measurementType&quot;);</span>

<span class="fc" id="L575">        FluxCsvParser.FluxResponseConsumer consumer = new FluxCsvParser.FluxResponseConsumer() {</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxTable table) {

<span class="nc" id="L582">            }</span>

            @Override
            public void accept(final int index,
                               @Nonnull final Cancellable cancellable,
                               @Nonnull final FluxRecord record) {

<span class="nc" id="L589">                onNext.accept(cancellable, resultMapper.toPOJO(record, measurementType));</span>

<span class="nc" id="L591">            }</span>
        };

<span class="fc" id="L594">        query(query, org, consumer, onError, onComplete, true);</span>
<span class="fc" id="L595">    }</span>

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final String query) {

<span class="fc" id="L601">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L603">        return queryRaw(query, options.getOrg());</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final String query, @Nonnull final String org) {

<span class="fc" id="L610">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L611">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L613">        return queryRaw(new Query().query(query), org);</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final String query, @Nullable final Dialect dialect) {

<span class="fc" id="L620">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L622">        return queryRaw(query, dialect, options.getOrg());</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final String query,
                           @Nullable final Dialect dialect,
                           @Nonnull final String org) {

<span class="fc" id="L631">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L632">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L634">        return queryRaw(new Query().query(query).dialect(dialect), org);</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final String query,
                           @Nullable final Dialect dialect,
                           @Nonnull final String org,
                           @Nullable final Map&lt;String, Object&gt; params) {

<span class="nc" id="L644">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="nc" id="L645">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="nc" id="L647">        Query queryObj = new Query().query(query).dialect(dialect);</span>
<span class="nc bnc" id="L648" title="All 2 branches missed.">        if (params != null) {</span>
<span class="nc" id="L649">            queryObj.params(Collections.unmodifiableMap(params));</span>
        }

<span class="nc" id="L652">        return queryRaw(queryObj, org);</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final Query query) {

<span class="fc" id="L659">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L661">        return queryRaw(query, options.getOrg());</span>
    }

    @Nonnull
    @Override
    public String queryRaw(@Nonnull final Query query, @Nonnull final String org) {

<span class="fc" id="L668">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L669">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>

<span class="fc" id="L671">        List&lt;String&gt; rows = new ArrayList&lt;&gt;();</span>

<span class="pc" id="L673">        BiConsumer&lt;Cancellable, String&gt; consumer = (cancellable, row) -&gt; rows.add(row);</span>

<span class="fc" id="L675">        queryRaw(query, org, consumer, ERROR_CONSUMER, EMPTY_ACTION, false);</span>

<span class="fc" id="L677">        return String.join(&quot;\n&quot;, rows);</span>
    }

    @Override
    public void queryRaw(@Nonnull final String query, @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L683">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L685">        queryRaw(query, options.getOrg(), onResponse);</span>
<span class="fc" id="L686">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L693">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L694">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L695">        Arguments.checkNotNull(onResponse, &quot;onResponse&quot;);</span>

<span class="fc" id="L697">        queryRaw(query, null, org, onResponse);</span>
<span class="fc" id="L698">    }</span>

    @Override
    public void queryRaw(@Nonnull final Query query, @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L703">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L705">        queryRaw(query, options.getOrg(), onResponse);</span>
<span class="fc" id="L706">    }</span>

    @Override
    public void queryRaw(@Nonnull final Query query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L713">        Arguments.checkNotNull(query, &quot;query&quot;);</span>
<span class="fc" id="L714">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L715">        Arguments.checkNotNull(onResponse, &quot;onResponse&quot;);</span>

<span class="fc" id="L717">        queryRaw(query, org, onResponse, ERROR_CONSUMER);</span>
<span class="fc" id="L718">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L725">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L727">        queryRaw(query, dialect, options.getOrg(), onResponse);</span>
<span class="fc" id="L728">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse) {

<span class="fc" id="L736">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L737">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L738">        Arguments.checkNotNull(onResponse, &quot;onResponse&quot;);</span>

<span class="fc" id="L740">        queryRaw(query, dialect, org, onResponse, ERROR_CONSUMER);</span>
<span class="fc" id="L741">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L748">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L750">        queryRaw(query, options.getOrg(), onResponse, onError);</span>
<span class="fc" id="L751">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L759">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L760">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="fc" id="L761">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>

<span class="fc" id="L763">        queryRaw(query, org, onResponse, onError, EMPTY_ACTION);</span>
<span class="fc" id="L764">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nullable final Map&lt;String, Object&gt; params) {

<span class="nc" id="L773">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="nc" id="L774">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="nc" id="L775">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>

<span class="nc" id="L777">        queryRaw(query, null, org, onResponse, onError, EMPTY_ACTION, params);</span>
<span class="nc" id="L778">    }</span>

    @Override
    public void queryRaw(@Nonnull final Query query,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L785">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L787">        queryRaw(query, options.getOrg(), onResponse, onError);</span>
<span class="fc" id="L788">    }</span>

    @Override
    public void queryRaw(@Nonnull final Query query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L796">        queryRaw(query, org, onResponse, onError, EMPTY_ACTION);</span>
<span class="fc" id="L797">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L805">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L807">        queryRaw(query, options.getOrg(), onResponse, onError);</span>
<span class="fc" id="L808">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError) {

<span class="fc" id="L817">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L818">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L819">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="fc" id="L820">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>

<span class="fc" id="L822">        queryRaw(query, dialect, org, onResponse, onError, EMPTY_ACTION);</span>
<span class="fc" id="L823">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L831">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L833">        queryRaw(query, options.getOrg(), onResponse, onError, onComplete);</span>
<span class="fc" id="L834">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L843">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L844">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L845">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="fc" id="L846">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L847">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="fc" id="L849">        queryRaw(query, null, org, onResponse, onError, onComplete);</span>
<span class="fc" id="L850">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L859">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L861">        queryRaw(query, dialect, options.getOrg(), onResponse, onError, onComplete);</span>
<span class="fc" id="L862">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L872">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="fc" id="L873">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="fc" id="L874">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="fc" id="L875">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="fc" id="L876">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="fc" id="L878">        queryRaw(new Query().query(query).dialect(dialect), org, onResponse, onError, onComplete, true);</span>
<span class="fc" id="L879">    }</span>

    @Override
    public void queryRaw(@Nonnull final String query,
                         @Nullable final Dialect dialect,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete,
                         @Nullable final Map&lt;String, Object&gt; params) {

<span class="nc" id="L890">        Arguments.checkNonEmpty(query, &quot;query&quot;);</span>
<span class="nc" id="L891">        Arguments.checkNonEmpty(org, &quot;org&quot;);</span>
<span class="nc" id="L892">        Arguments.checkNotNull(onResponse, &quot;onNext&quot;);</span>
<span class="nc" id="L893">        Arguments.checkNotNull(onError, &quot;onError&quot;);</span>
<span class="nc" id="L894">        Arguments.checkNotNull(onComplete, &quot;onComplete&quot;);</span>

<span class="nc" id="L896">        Query queryObj = new Query().query(query).dialect(dialect);</span>
<span class="nc bnc" id="L897" title="All 2 branches missed.">        if (params != null) {</span>
<span class="nc" id="L898">            queryObj.params(Collections.unmodifiableMap(params));</span>
        }
<span class="nc" id="L900">        queryRaw(queryObj, org, onResponse, onError, onComplete, true);</span>
<span class="nc" id="L901">    }</span>


    @Override
    public void queryRaw(@Nonnull final Query query,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L910">        Arguments.checkNotNull(options.getOrg(), &quot;InfluxDBClientOptions.getOrg&quot;);</span>

<span class="fc" id="L912">        queryRaw(query, options.getOrg(), onResponse, onError, onComplete);</span>
<span class="fc" id="L913">    }</span>

    @Override
    public void queryRaw(@Nonnull final Query query,
                         @Nonnull final String org,
                         @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                         @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                         @Nonnull final Runnable onComplete) {

<span class="fc" id="L922">        queryRaw(query, org, onResponse, onError, onComplete, true);</span>
<span class="fc" id="L923">    }</span>

    private void query(@Nonnull final Query query,
                       @Nonnull final String org,
                       @Nonnull final FluxCsvParser.FluxResponseConsumer responseConsumer,
                       @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                       @Nonnull final Runnable onComplete,
                       @Nonnull final Boolean asynchronously) {

<span class="fc" id="L932">        Call&lt;ResponseBody&gt; queryCall = service</span>
<span class="fc" id="L933">            .postQueryResponseBody(null, null, null, org, null, query.dialect(AbstractInfluxDBClient.DEFAULT_DIALECT));</span>


<span class="fc" id="L936">        LOG.log(Level.FINEST, &quot;Prepare query \&quot;{0}\&quot; with dialect \&quot;{1}\&quot; on organization \&quot;{2}\&quot;.&quot;,</span>
<span class="fc" id="L937">                new Object[]{query, query.getDialect(), org});</span>

<span class="fc" id="L939">        query(queryCall, responseConsumer, onError, onComplete, asynchronously);</span>
<span class="fc" id="L940">    }</span>

    private void queryRaw(@Nonnull final Query query,
                          @Nonnull final String org,
                          @Nonnull final BiConsumer&lt;Cancellable, String&gt; onResponse,
                          @Nonnull final Consumer&lt;? super Throwable&gt; onError,
                          @Nonnull final Runnable onComplete,
                          @Nonnull final Boolean asynchronously) {

<span class="fc" id="L949">        Call&lt;ResponseBody&gt; queryCall = service</span>
<span class="fc" id="L950">                .postQueryResponseBody(null, null, null, org, null, query);</span>

<span class="fc" id="L952">        LOG.log(Level.FINEST, &quot;Prepare raw query \&quot;{0}\&quot; with dialect \&quot;{1}\&quot; on organization \&quot;{2}\&quot;.&quot;,</span>
<span class="fc" id="L953">                new Object[]{query, query.getDialect(), org});</span>

<span class="fc" id="L955">        queryRaw(queryCall, onResponse, onError, onComplete, asynchronously);</span>
<span class="fc" id="L956">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>